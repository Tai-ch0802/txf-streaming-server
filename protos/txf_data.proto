syntax = "proto3";

package txf;

// 提取需要項目，移到前面以確保使用 1-byte 標頭

// =============================================================================
// Tick Data (成交明細)
// =============================================================================
message Tick {
  // --- 1. 識別與時間 ---
  string code = 1;
  int64 timestamp_ms = 2;

  // --- 2. 核心價格與量 ---
  int64 close = 3;            // 現價
  int32 volume = 4;           // 單筆量
  
  // --- 3. 交易屬性 ---
  int32 tick_type = 5;        // 1:外盤, 2:內盤

  // --- 4. 輔助數據 ---
  int64 underlying_price = 6; // 標的物價格
  int32 total_volume = 7;     // 總量 (檢核用)
}

// =============================================================================
// BidAsk Data (最佳五檔)
// =============================================================================
message BidAsk {
  // --- 1. 識別與時間 ---
  string code = 1;
  int64 timestamp_ms = 2;

  // --- 2. 委託總量 ---
  int32 bid_total_vol = 3;
  int32 ask_total_vol = 4;

  // --- 3. 五檔核心 (List) ---
  repeated int64 bid_price = 5;
  repeated int32 bid_volume = 6;
  repeated int32 diff_bid_vol = 7; 
  repeated int64 ask_price = 8;
  repeated int32 ask_volume = 9;
  repeated int32 diff_ask_vol = 10;
}